webpackJsonp([1],{109:function(t,e){},110:function(t,e){},111:function(t,e){},116:function(t,e,a){a(111);var n=a(25)(a(72),a(120),null,null);t.exports=n.exports},117:function(t,e,a){a(109);var n=a(25)(a(73),a(118),"data-v-0761e65c",null);t.exports=n.exports},118:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Game")],1)},staticRenderFns:[]}},119:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"margin-top":"1%"},attrs:{id:"app"}},[a("router-view")],1)},staticRenderFns:[]}},120:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"margin-bottom":"5%"},attrs:{id:"gameScreen"}},[a("md-layout",{staticStyle:{padding:"2%","padding-top":"0px"},attrs:{flex:"100"}},[a("md-layout",{attrs:{flex:"100"}},[a("md-input-container",[a("label",[t._v("HERO")]),t._v(" "),a("md-input",{attrs:{readonly:t.isFindingAvatar},model:{value:t.hero,callback:function(e){t.hero=e},expression:"hero"}})],1)],1),t._v(" "),a("md-layout",{attrs:{"md-align":"center"}},[a("md-button",{staticClass:"md-raised md-primary large-button",attrs:{disabled:t.isFindingAvatar},nativeOn:{click:function(e){t.find(e)}}},[t._v("\n        "+t._s(t.isFindingAvatar?"Battle in progress":"Start Battle")+"\n      ")])],1),t._v(" "),a("md-layout",[a("md-input-container",{attrs:{flex:"100"}},[a("label",[t._v("ENEMY")]),t._v(" "),a("md-input",{attrs:{readonly:t.isFindingAvatar},model:{value:t.enemy,callback:function(e){t.enemy=e},expression:"enemy"}})],1)],1)],1)],1)},staticRenderFns:[]}},49:function(t,e,a){"use strict";var n=a(9),r=a(122),i=a(117),o=a.n(i);n.default.use(r.a),e.a=new r.a({routes:[{path:"/",name:"Hello",component:o.a}]})},50:function(t,e,a){a(110);var n=a(25)(a(71),a(119),null,null);t.exports=n.exports},69:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(9),r=a(50),i=a.n(r),o=a(49);n.default.config.productionTip=!1,new n.default({el:"#app",router:o.a,template:"<App/>",components:{App:i.a}})},70:function(t,e){e.calculate=function(t){function e(){return 0===u.organizations?1:u.organizations>=5?5:u.organizations}function a(){return u.stars>1e3?1e3:u.stars}function n(){return u.following>1e3?1e3:u.following}function r(){return s.stars>=4?s.stars/2:1}function i(){return s.forks>=4?s.forks/2:1}function o(){return 0===s.repositories.relevants.length?1:s.repositories.relevants.length}var s=t.repository,h=t.currentStreak,u=t.information,l=function(){return(u.commits+h)*u.commitsAverage+(u.followers+n()+a())}(),m=function(){return(u.commits+h)*u.commitsAverage}(),c=function(){return(i()+r()+s.repositories.full.length+u.commits)*o()+2*u.commits}(),d=function(){return(i()+u.followers+n()+r()+s.repositories.full.length)*o()+u.commits*u.commitsAverage}(),f=function(){return(u.commits+h)*e()}(),p=function(){return(u.commits+h+u.followers+n())*e()}(),A=function(){return(u.followers+n())*(e()*u.commitsAverage*o())+u.commits+h}(),v=function(){return u.commits*u.commitsAverage}();return{HP:parseInt(l),MP:parseInt(m),P_ATCK:parseInt(c),P_DEF:parseInt(d),CAST_SPEED:parseInt(f),CRITICAL:parseInt(p),ACCURACY:parseInt(A),STAMINA:parseInt(v)}}},71:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"app"}},72:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(74),r=a.n(n),i=a(26),o=(a.n(i),a(28)),s=(a.n(o),a(27)),h=a.n(s),u=a(51),l=a.n(u),m=a(9),c=a(121),d=a.n(c),f=a(70),p=a.n(f);m.default.use(d.a),e.default={name:"game",props:{width:{default:window.innerWidth-50,type:Number},height:{default:window.innerHeight-150,type:Number}},mounted:function(){var t=this;null===this.game&&(this.game=new h.a.Game(this.width,this.height,h.a.AUTO,this.$el,{preload:function(){t.preload(this)},create:function(){t.create(this)},update:function(){t.update(this)}}))},methods:{isTrueBattle:function(){return(this.heroAvatar||!1)&&(this.heroAvatar.HP||!1)&&this.isBattle},cleanText:function(){this.cleanBar()},preload:function(){this.game.load.spritesheet("hero","static/game/img/char.png",385,318,18),this.game.load.spritesheet("enemy","static/game/img/enemy.png",161,106,18),this.game.load.image("background","static/game/img/background.v1.png")},create:function(t){this.game.add.tileSprite(5,5,1e3,1e3,"background").setScale(0)},update:function(t){},onHeroUpdate:function(t,e){this.heroName.text=this.hero,this.enemyName.text=this.enemy,this.isTrueBattle()&&(this.createHeroBattle(),this.updateAvatarBar())},onEnemyUpdate:function(t,e){this.heroName.text=this.hero,this.enemyName.text=this.enemy,this.isTrueBattle()&&(this.createEnemyBattle(),this.updateAvatarBar())},createHeroBattle:function(){var t=Math.floor(this.heroAvatar.P_DEF/100),e=Math.round(this.heroAvatar.ACCURACY/100),a=Math.round(this.heroAvatar.STAMINA/100),n=Math.floor(100001*Math.random())<this.heroAvatar.CRITICAL?2:1;this.enemyAvatar.HP-=(Math.floor(this.heroAvatar.P_ATCK/100)+t+Math.round(e+a/2))*n,this.verifyWinner()},createEnemyBattle:function(){var t=Math.floor(this.enemyAvatar.P_DEF/100),e=Math.round(this.enemyAvatar.ACCURACY/100),a=Math.round(this.enemyAvatar.STAMINA/100),n=Math.floor(100001*Math.random())<this.enemyAvatar.CRITICAL?2:1;this.heroAvatar.HP-=(Math.floor(this.enemyAvatar.P_ATCK/100)+t+Math.round(e+a/2))*n,this.verifyWinner()},verifyWinner:function(){this.enemyAvatar.HP<=0&&this.isBattle?(this.isBattle=!1,this.enemyAvatar.HP=0,this.isFindingAvatar=!1,this.heroAvatar.HP<=0&&(this.heroAvatar.HP=0),this.heroChar.animations.paused=!0,this.enemyChar.animations.paused=!0):this.heroAvatar.HP<=0&&this.isBattle?(this.isBattle=!1,this.heroAvatar.HP=0,this.isFindingAvatar=!1,this.enemyAvatar.HP<=0&&(this.enemyAvatar.HP=0),this.heroChar.animations.paused=!0,this.enemyChar.animations.paused=!0):this.isBattle=!0},cleanBar:function(){this.heroText&&this.heroText.destroy(),this.enemyText&&this.enemyText.destroy()},updateAvatarBar:function(){this.cleanBar(),this.heroText=this.game.add.text(32,100,"heroAvatar",{font:"28px Arial",fill:"#FFE848"}),this.heroText.text="HP: "+this.heroAvatar.HP+"\nMP: "+this.heroAvatar.MP+"\nP. ATCK: "+this.heroAvatar.P_ATCK+"\nP. DEF: "+this.heroAvatar.P_DEF+"\nCAST SPEED: "+this.heroAvatar.CAST_SPEED+"\nCRITICAL: "+this.heroAvatar.CRITICAL+"\nACCURACY: "+this.heroAvatar.ACCURACY+"\nSTAMINA: "+this.heroAvatar.STAMINA,this.enemyText=this.game.add.text(this.width-300,100,"enemyAvatar",{font:"28px Arial",fill:"#FFE848"}),this.enemyText.text="HP: "+this.enemyAvatar.HP+"\nMP: "+this.enemyAvatar.MP+"\nP. ATCK: "+this.enemyAvatar.P_ATCK+"\nP. DEF: "+this.enemyAvatar.P_DEF+"\nCAST SPEED: "+this.enemyAvatar.CAST_SPEED+"\nCRITICAL: "+this.enemyAvatar.CRITICAL+"\nACCURACY: "+this.enemyAvatar.ACCURACY+"\nSTAMINA: "+this.enemyAvatar.STAMINA},find:function(){var t=this;null!=this.enemyChar&&this.enemyChar.destroy(),null!=this.heroChar&&this.heroChar.destroy(),null!=this.heroName&&this.heroName.destroy(),null!=this.enemyName&&this.enemyName.destroy(),this.heroName=this.game.add.text(200,32,null,{font:"28px Arial",fill:"#FFE848"}),this.enemyName=this.game.add.text(this.width-350,32,null,{font:"28px Arial",fill:"#FFE848"}),this.isFindingAvatar=!0,this.cleanText();var e=l.a.get("https://legend-of-github-api.herokuapp.com/repository/format?username="+this.hero).then(function(t){return t.data}).catch(function(t){console.log(t)}),a=l.a.get("https://legend-of-github-api.herokuapp.com/repository/format?username="+this.enemy).then(function(t){return t.data}).catch(function(t){console.log(t)}),n=l.a.get("https://legend-of-github-api.herokuapp.com/user/full?username="+this.hero).then(function(t){return t.data}).catch(function(t){console.log(t)}),i=l.a.get("https://legend-of-github-api.herokuapp.com/user/full?username="+this.enemy).then(function(t){return t.data}).catch(function(t){console.log(t)}),o=l.a.get("https://legend-of-github-api.herokuapp.com/streak/full?username="+this.hero).then(function(t){var e=[],a=0;return t.data.forEach(function(t,n){var r=t.date,i=t.commit;new Date(t.date.replace("-","/")).getTime()<=(new Date).getTime()&&(i>0&&(a>0||0===e.length)?e.push({date:r,commit:i}):e=[]),a=t.commit}),e.length}).catch(function(t){console.log(t)}),s=l.a.get("https://legend-of-github-api.herokuapp.com/streak/full?username="+this.enemy).then(function(t){var e=[],a=0;return t.data.forEach(function(t,n){var r=t.date,i=t.commit;new Date(t.date.replace("-","/")).getTime()<=(new Date).getTime()&&(i>0&&(a>0||0===e.length)?e.push({date:r,commit:i}):e=[]),a=t.commit}),e.length}).catch(function(t){console.log(t)});r.a.all([e,n,o,a,i,s]).then(function(e){var a=e[0],n=e[1],r=e[2],i={repository:a,information:n,currentStreak:r},o=e[3],s=e[4],h=e[5],u={repository:o,information:s,currentStreak:h};t.heroAvatar=p.a.calculate(i),t.enemyAvatar=p.a.calculate(u),t.heroChar=t.game.add.sprite(t.width-450,350,"enemy");var l=t.heroChar.animations.add("walk");l.enableUpdate=!0;var m=t.heroAvatar.CAST_SPEED,c=t.enemyAvatar.CAST_SPEED;t.heroChar.animations.play("walk",m>c?3:2,!0),l.onUpdate.add(t.onHeroUpdate,t),t.enemyChar=t.game.add.sprite(250,135,"hero");var d=t.enemyChar.animations.add("walk");d.enableUpdate=!0,t.enemyChar.animations.play("walk",c>m?3:2,!0),d.onUpdate.add(t.onEnemyUpdate,t),t.isBattle=!0,t.updateAvatarBar()})}},destroyed:function(){this.game.destroy()},data:function(){return{game:null,heroName:null,enemyName:null,heroAvatar:null,enemyAvatar:null,hero:"",enemy:"",heroText:null,enemyText:null,isBattle:!1,isFindingAvatar:!1,heroChar:null,enemyChar:null}},watch:{view:function(t){var e=this;this.$nextTick(function(){e.game.update()})}}}},73:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(116),r=a.n(n);e.default={name:"hello",components:{Game:r.a},data:function(){return{}}}}},[69]);
//# sourceMappingURL=app.05e3e49ddcdd31975282.js.map