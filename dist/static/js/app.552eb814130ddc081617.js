webpackJsonp([1],{108:function(t,e){},109:function(t,e){},110:function(t,e){},115:function(t,e,n){n(110);var a=n(25)(n(71),n(119),null,null);t.exports=a.exports},116:function(t,e,n){n(108);var a=n(25)(n(72),n(117),"data-v-0761e65c",null);t.exports=a.exports},117:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Game")],1)},staticRenderFns:[]}},118:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},staticRenderFns:[]}},119:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"gameScreen"}},[n("md-layout",{staticStyle:{padding:"2%","padding-top":"0px"},attrs:{flex:"100"}},[n("md-layout",{attrs:{flex:"100"}},[n("md-input-container",[n("label",[t._v("HERO")]),t._v(" "),n("md-input",{attrs:{readonly:t.isFindingAvatar},model:{value:t.hero,callback:function(e){t.hero=e},expression:"hero"}})],1)],1),t._v(" "),n("md-layout",{attrs:{"md-align":"center"}},[n("md-button",{staticClass:"md-raised md-primary large-button",attrs:{disabled:t.isFindingAvatar},nativeOn:{click:function(e){t.find(e)}}},[t._v("\n        "+t._s(t.isFindingAvatar?"Battle in progress":"Start Battle")+"\n      ")])],1),t._v(" "),n("md-layout",[n("md-input-container",{attrs:{flex:"100"}},[n("label",[t._v("ENEMY")]),t._v(" "),n("md-input",{attrs:{readonly:t.isFindingAvatar},model:{value:t.enemy,callback:function(e){t.enemy=e},expression:"enemy"}})],1)],1)],1)],1)},staticRenderFns:[]}},49:function(t,e,n){"use strict";var a=n(9),r=n(121),i=n(116),o=n.n(i);a.default.use(r.a),e.a=new r.a({routes:[{path:"/",name:"Hello",component:o.a}]})},50:function(t,e,n){n(109);var a=n(25)(n(70),n(118),null,null);t.exports=a.exports},69:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(9),r=n(50),i=n.n(r),o=n(49);a.default.config.productionTip=!1,new a.default({el:"#app",router:o.a,template:"<App/>",components:{App:i.a}})},70:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"app"}},71:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(73),r=n.n(a),i=n(26),o=(n.n(i),n(28)),s=(n.n(o),n(27)),h=n.n(s),u=n(51),l=n.n(u),c=n(9),m=n(120),f=n.n(m);c.default.use(f.a);var d=function(t){function e(){return 0===u.organizations?1:u.organizations}function n(){return u.stars>1e3?1e3:u.stars}function a(){return u.following>1e3?1e3:u.following}function r(){return s.stars>=4?s.stars/2:1}function i(){return s.forks>=4?s.forks/2:1}function o(){return 0===s.repositories.relevants.length?1:s.repositories.relevants.length}var s=t.repository,h=t.currentStreak,u=t.information,l=function(){return(u.commits+h)*u.commitsAverage+(u.followers+a()+n())}(),c=function(){return(u.commits+h)*u.commitsAverage}(),m=function(){return(i()+r()+s.repositories.full.length+u.commits)*o()+2*u.commits}(),f=function(){return(i()+u.followers+a()+r()+s.repositories.full.length)*o()+u.commits*u.commitsAverage}(),d=function(){return(u.commits+h)*e()}(),p=function(){return(u.commits+h+u.followers+a())*e()}(),v=function(){return(2*u.followers+a())*(e()*u.commitsAverage*o())+u.commits+h}(),A=function(){return u.commits*u.commitsAverage}();return{HP:parseInt(l),MP:parseInt(c),P_ATCK:parseInt(m),P_DEF:parseInt(f),CAST_SPEED:parseInt(d),CRITICAL:parseInt(p),ACCURACY:parseInt(v),STAMINA:parseInt(A),BATTLE:1e3}};e.default={name:"game",props:{width:{default:window.innerWidth-50,type:Number},height:{default:window.innerHeight,type:Number}},mounted:function(){var t=this;null===this.game&&(this.game=new h.a.Game(this.width,this.height,h.a.AUTO,this.$el,{preload:function(){t.preload(this)},create:function(){t.create(this)},update:function(){t.update(this)}}))},methods:{isTrueBattle:function(){return(this.heroAvatar||!1)&&(this.heroAvatar.HP||!1)&&this.isBattle},cleanText:function(){this.cleanBar()},preload:function(){this.game.load.spritesheet("hero","static/game/img/char.png",161,106,18),this.game.load.spritesheet("enemy","static/game/img/enemy.png",385,318,18)},create:function(t){var e=this.game.add.sprite(this.width-500,350,"hero"),n=e.animations.add("walk");n.enableUpdate=!0,e.animations.play("walk",2,!0),n.onUpdate.add(this.onUpdate,this);var a=this.game.add.sprite(300,135,"enemy");a.animations.add("walk").enableUpdate=!0,a.animations.play("walk",2,!0),this.heroName=this.game.add.text(200,32,"heroName",{font:"28px Arial",fill:"#6B9800"}),this.enemyName=this.game.add.text(this.width-350,32,"enemyName",{font:"28px Arial",fill:"#6B9800"})},update:function(t){},onUpdate:function(t,e){this.heroName.text=this.hero,this.enemyName.text=this.enemy,this.isTrueBattle()&&(this.createBattle(),this.updateAvatarBar())},createBattle:function(){var t=Math.floor(this.heroAvatar.P_DEF/100),e=Math.floor(this.enemyAvatar.P_DEF/100);this.enemyAvatar.HP-=Math.floor(this.heroAvatar.P_ATCK/100)+t,this.heroAvatar.HP-=Math.floor(this.enemyAvatar.P_ATCK/100)+e,this.verifyWinner()},verifyWinner:function(){this.enemyAvatar.HP<=0&&this.isBattle?(this.isBattle=!1,this.enemyAvatar.HP=0,this.isFindingAvatar=!1,this.heroAvatar.HP<=0&&(this.heroAvatar.HP=0)):this.heroAvatar.HP<=0&&this.isBattle?(this.isBattle=!1,this.heroAvatar.HP=0,this.isFindingAvatar=!1,this.enemyAvatar.HP<=0&&(this.enemyAvatar.HP=0)):this.isBattle=!0},cleanBar:function(){this.heroText&&this.heroText.destroy(),this.enemyText&&this.enemyText.destroy()},updateAvatarBar:function(){this.cleanBar(),this.heroText=this.game.add.text(32,100,"heroAvatar",{font:"28px Arial",fill:"#6B9800"}),this.heroText.text="HP: "+this.heroAvatar.HP+"\nMP: "+this.heroAvatar.MP+"\nP. ATCK: "+this.heroAvatar.P_ATCK+"\nP. DEF: "+this.heroAvatar.P_DEF+"\nCAST SPEED: "+this.heroAvatar.CAST_SPEED+"\nCRITICAL: "+this.heroAvatar.CRITICAL+"\nACCURACY: "+this.heroAvatar.ACCURACY+"\nSTAMINA: "+this.heroAvatar.STAMINA,this.enemyText=this.game.add.text(980,100,"enemyAvatar",{font:"28px Arial",fill:"#6B9800"}),this.enemyText.text="HP: "+this.enemyAvatar.HP+"\nMP: "+this.enemyAvatar.MP+"\nP. ATCK: "+this.enemyAvatar.P_ATCK+"\nP. DEF: "+this.enemyAvatar.P_DEF+"\nCAST SPEED: "+this.enemyAvatar.CAST_SPEED+"\nCRITICAL: "+this.enemyAvatar.CRITICAL+"\nACCURACY: "+this.enemyAvatar.ACCURACY+"\nSTAMINA: "+this.enemyAvatar.STAMINA},find:function(){var t=this;this.isFindingAvatar=!0,this.cleanText();var e=l.a.get("https://legend-of-github-api.herokuapp.com/repository/format?username="+this.hero).then(function(t){return t.data}).catch(function(t){console.log(t)}),n=l.a.get("https://legend-of-github-api.herokuapp.com/repository/format?username="+this.enemy).then(function(t){return t.data}).catch(function(t){console.log(t)}),a=l.a.get("https://legend-of-github-api.herokuapp.com/user/full?username="+this.hero).then(function(t){return t.data}).catch(function(t){console.log(t)}),i=l.a.get("https://legend-of-github-api.herokuapp.com/user/full?username="+this.enemy).then(function(t){return t.data}).catch(function(t){console.log(t)}),o=l.a.get("https://legend-of-github-api.herokuapp.com/streak/full?username="+this.hero).then(function(t){var e=[],n=0;return t.data.forEach(function(t,a){var r=t.date,i=t.commit;new Date(t.date.replace("-","/")).getTime()<=(new Date).getTime()&&(i>0&&(n>0||0===e.length)?e.push({date:r,commit:i}):e=[]),n=t.commit}),e.length}).catch(function(t){console.log(t)}),s=l.a.get("https://legend-of-github-api.herokuapp.com/streak/full?username="+this.enemy).then(function(t){var e=[],n=0;return t.data.forEach(function(t,a){var r=t.date,i=t.commit;new Date(t.date.replace("-","/")).getTime()<=(new Date).getTime()&&(i>0&&(n>0||0===e.length)?e.push({date:r,commit:i}):e=[]),n=t.commit}),e.length}).catch(function(t){console.log(t)});r.a.all([e,a,o,n,i,s]).then(function(e){var n=e[0],a=e[1],r=e[2],i={repository:n,information:a,currentStreak:r},o=e[3],s=e[4],h=e[5],u={repository:o,information:s,currentStreak:h};t.heroAvatar=d(i),t.enemyAvatar=d(u),t.isBattle=!0,t.updateAvatarBar()})}},destroyed:function(){this.game.destroy()},data:function(){return{game:null,heroName:null,enemyName:null,heroAvatar:null,enemyAvatar:null,hero:"mikemajesty",enemy:"celso-wo",heroText:null,enemyText:null,isBattle:!1,isFindingAvatar:!1}},watch:{view:function(t){var e=this;this.$nextTick(function(){e.game.update()})}}}},72:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(115),r=n.n(a);e.default={name:"hello",components:{Game:r.a},data:function(){return{}}}}},[69]);
//# sourceMappingURL=app.552eb814130ddc081617.js.map