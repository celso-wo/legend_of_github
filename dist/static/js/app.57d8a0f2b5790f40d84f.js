webpackJsonp([1],{109:function(e,t){},110:function(e,t){},111:function(e,t){},116:function(e,t,a){a(111);var n=a(25)(a(72),a(120),null,null);e.exports=n.exports},117:function(e,t,a){a(109);var n=a(25)(a(73),a(118),"data-v-0761e65c",null);e.exports=n.exports},118:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Game")],1)},staticRenderFns:[]}},119:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"margin-top":"1%"},attrs:{id:"app"}},[a("router-view")],1)},staticRenderFns:[]}},120:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"margin-bottom":"5%"},attrs:{id:"gameScreen"}},[a("md-layout",{staticStyle:{padding:"2%","padding-top":"0px"},attrs:{flex:"100"}},[a("md-layout",{attrs:{flex:"100"}},[a("md-input-container",[a("label",[e._v("HERO")]),e._v(" "),a("md-input",{attrs:{readonly:e.isFindingAvatar},model:{value:e.hero,callback:function(t){e.hero=t},expression:"hero"}})],1)],1),e._v(" "),a("md-layout",{attrs:{"md-align":"center"}},[a("md-button",{staticClass:"md-raised md-primary large-button",attrs:{disabled:e.isFindingAvatar},nativeOn:{click:function(t){e.find(t)}}},[e._v("\n        "+e._s(e.isFindingAvatar?"Battle in progress":"Start Battle")+"\n      ")])],1),e._v(" "),a("md-layout",[a("md-input-container",{attrs:{flex:"100"}},[a("label",[e._v("ENEMY")]),e._v(" "),a("md-input",{attrs:{readonly:e.isFindingAvatar},model:{value:e.enemy,callback:function(t){e.enemy=t},expression:"enemy"}})],1)],1)],1)],1)},staticRenderFns:[]}},49:function(e,t,a){"use strict";var n=a(9),r=a(122),i=a(117),s=a.n(i);n.default.use(r.a),t.a=new r.a({routes:[{path:"/",name:"Hello",component:s.a}]})},50:function(e,t,a){a(110);var n=a(25)(a(71),a(119),null,null);e.exports=n.exports},69:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(9),r=a(50),i=a.n(r),s=a(49);n.default.config.productionTip=!1,new n.default({el:"#app",router:s.a,template:"<App/>",components:{App:i.a}})},70:function(e,t){t.calculate=function(e){function t(){return 0===l.organizations?1:l.organizations>=5?5:l.organizations}function a(){return l.stars>1e3?1e3:l.stars}function n(){return l.following>1e3?1e3:l.following}function r(){return h.stars>=4?h.stars/2:1}function i(){return h.forks>=4?h.forks/2:1}function s(){return 0===h.repositories.relevants.length?1:h.repositories.relevants.length}var h=e.repository,o=e.currentStreak,l=e.information,m=function(){return(l.commits+o)*l.commitsAverage+(l.followers+n()+a())}(),u=function(){return(l.commits+o)*l.commitsAverage}(),c=function(){return(i()+r()+h.repositories.full.length+l.commits)*s()+2*l.commits}(),d=function(){return(i()+l.followers+n()+r()+h.repositories.full.length)*s()+l.commits*l.commitsAverage}(),p=function(){return(l.commits+o)*t()}(),A=function(){return(l.commits+o+l.followers+n())*t()}(),g=function(){return(l.followers+n())*(t()*l.commitsAverage*s())+l.commits+o}(),f=function(){return l.commits*l.commitsAverage}();return{HP:parseInt(m),MP:parseInt(u),P_ATCK:parseInt(c),P_DEF:parseInt(d),CAST_SPEED:parseInt(p),CRITICAL:parseInt(A),ACCURACY:parseInt(g),STAMINA:parseInt(f)}}},71:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"app"}},72:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(74),r=a.n(n),i=a(26),s=(a.n(i),a(28)),h=(a.n(s),a(27)),o=a.n(h),l=a(51),m=a.n(l),u=a(9),c=a(121),d=a.n(c),p=a(70),A=a.n(p);u.default.use(d.a),t.default={name:"game",props:{width:{default:900,type:Number},height:{default:650,type:Number}},mounted:function(){var e=this;null===this.game&&(this.game=new o.a.Game(this.width,this.height,o.a.AUTO,this.$el,{preload:function(){e.preload(this)},create:function(){e.create(this)},update:function(){e.update(this)}}))},methods:{getEnemyCharByLanguage:function(e){if("java"===e.toLocaleLowerCase()){this.enemyChar=this.game.add.sprite(this.width-150,this.height-400,"hero-tanker-java"),this.enemyChar.scale.x*=-1;var t=this.heroAvatar.CAST_SPEED,a=this.enemyAvatar.CAST_SPEED,n=this.enemyChar.animations.add("walk",[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27],10,!0);n.enableUpdate=!0,n.onUpdate.add(this.onEnemyUpdate,this),this.enemyChar.animations.play("walk",a>t?5:4,!0)}else if("c#"===e.toLocaleLowerCase()){this.enemyChar=this.game.add.sprite(this.width-530,this.height-180,"hero-atacker-c#");var r=this.heroAvatar.CAST_SPEED,i=this.enemyAvatar.CAST_SPEED,s=this.enemyChar.animations.add("walk",[2,8,11,12,13,15,16,17,18,19,23,24,25,26,27,28,29,30,31,35,36,37,38],10,!0);s.enableUpdate=!0,s.onUpdate.add(this.onEnemyUpdate,this),this.enemyChar.animations.play("walk",i>r?5:4,!0)}else if("javascript"===e.toLocaleLowerCase()){this.enemyChar=this.game.add.sprite(this.width-460,this.height-255,"enemy-archer-javascript");var h=this.heroAvatar.CAST_SPEED,o=this.enemyAvatar.CAST_SPEED,l=this.enemyChar.animations.add("walk",[16,17,18,19,20,29,30,29,30,31,21,22,23,24,25,26,27,36,37,38,39,40,41],10,!0);l.enableUpdate=!0,l.onUpdate.add(this.onEnemyUpdate,this),this.enemyChar.animations.play("walk",o>h?5:4,!0)}else{this.enemyChar=this.game.add.sprite(this.width-460,this.height-178,"enemy-other");var m=this.heroAvatar.CAST_SPEED,u=this.enemyAvatar.CAST_SPEED,c=this.enemyChar.animations.add("walk",[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29],10,!0);c.enableUpdate=!0,c.onUpdate.add(this.onEnemyUpdate,this),this.enemyChar.animations.play("walk",u>m?5:4,!0)}},getHeroCharByLanguage:function(e){if("java"===e.toLocaleLowerCase()){this.heroChar=this.game.add.sprite(this.width-750,this.height-400,"enemy-tanker-java");var t=this.heroAvatar.CAST_SPEED,a=this.enemyAvatar.CAST_SPEED,n=this.heroChar.animations.add("walk",[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27],10,!0);n.enableUpdate=!0,n.onUpdate.add(this.onHeroUpdate,this),this.heroChar.frame=5,this.heroChar.animations.play("walk",t>a?5:4,!0)}else if("c#"===e.toLocaleLowerCase()){this.heroChar=this.game.add.sprite(this.width-370,this.height-180,"enemy-atacker-c#"),this.heroChar.scale.x*=-1;var r=this.heroAvatar.CAST_SPEED,i=this.enemyAvatar.CAST_SPEED,s=this.heroChar.animations.add("walk",[2,8,11,12,13,15,16,17,18,19,23,24,25,26,27,28,29,30,31,35,36,37,38],10,!0);s.enableUpdate=!0,s.onUpdate.add(this.onHeroUpdate,this),this.heroChar.frame=5,this.heroChar.animations.play("walk",r>i?5:4,!0)}else if("javascript"===e.toLocaleLowerCase()){this.heroChar=this.game.add.sprite(this.width-460,this.height-255,"hero-archer-javascript"),this.heroChar.scale.x*=-1;var h=this.heroAvatar.CAST_SPEED,o=this.enemyAvatar.CAST_SPEED,l=this.heroChar.animations.add("walk",[16,17,18,19,20,29,30,29,30,31,21,22,23,24,25,26,27,36,37,38,39,40,41],10,!0);l.enableUpdate=!0,l.onUpdate.add(this.onHeroUpdate,this),this.heroChar.frame=5,this.heroChar.animations.play("walk",h>o?5:4,!0)}else{this.heroChar=this.game.add.sprite(this.width-460,this.height-178,"hero-other"),this.heroChar.scale.x*=-1;var m=this.heroAvatar.CAST_SPEED,u=this.enemyAvatar.CAST_SPEED,c=this.heroChar.animations.add("walk",[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29],10,!0);c.enableUpdate=!0,c.onUpdate.add(this.onHeroUpdate,this),this.heroChar.frame=5,this.heroChar.animations.play("walk",m>u?5:4,!0)}},punchHeroFrame:function(e){return"java"===this.heroApiResult.repository.language.toLocaleLowerCase()?10===e.index||24===e.index:"c#"===this.heroApiResult.repository.language.toLocaleLowerCase()?19===e.index||35===e.index:"javascript"===this.heroApiResult.repository.language.toLocaleLowerCase()?39===e.index||40===e.index:12===e.index||28===e.index},punchEnemyFrame:function(e){return"java"===this.enemyApiResult.repository.language.toLocaleLowerCase()?10===e.index||24===e.index:"c#"===this.enemyApiResult.repository.language.toLocaleLowerCase()?19===e.index||35===e.index:"javascript"===this.enemyApiResult.repository.language.toLocaleLowerCase()?39===e.index||40===e.index:12===e.index||28===e.index},isTrueBattle:function(){return(this.heroAvatar||!1)&&(this.heroAvatar.HP||!1)&&this.isBattle},cleanText:function(){this.cleanBar()},preload:function(){this.game.load.spritesheet("hero-tanker-java","static/game/char/tanker-385x318.png",385,318,27),this.game.load.spritesheet("enemy-tanker-java","static/game/char/tanker-385x318.png",385,318,27),this.game.load.spritesheet("hero-atacker-c#","static/game/char/paladin-249x100.png",249,100,39),this.game.load.spritesheet("enemy-atacker-c#","static/game/char/paladin-249x100.png",249,100,39),this.game.load.spritesheet("hero-archer-javascript","static/game/char/archer-158x173.png",158,173,46),this.game.load.spritesheet("enemy-archer-javascript","static/game/char/archer-158x173.png",158,173,46),this.game.load.spritesheet("enemy-other","static/game/char/wizard-161x106.png",161,106,36),this.game.load.spritesheet("hero-other","static/game/char/wizard-161x106.png",161,106,36),this.game.load.image("background","static/game/img/background.v1.png")},create:function(e){this.game.add.tileSprite(5,5,1300,700,"background")},update:function(e){},onHeroUpdate:function(e,t){this.heroName.text=this.hero,this.enemyName.text=this.enemy,this.isTrueBattle()&&this.punchHeroFrame(t)&&(console.log("hero",t.index),this.createHeroBattle(),this.updateAvatarBar())},onEnemyUpdate:function(e,t){this.heroName.text=this.hero,this.enemyName.text=this.enemy,this.isTrueBattle()&&this.punchEnemyFrame(t)&&(console.log("enemy",t.index),this.createEnemyBattle(),this.updateAvatarBar())},createHeroBattle:function(){var e=Math.floor(this.heroAvatar.P_DEF/100),t=Math.round(this.heroAvatar.ACCURACY/100),a=Math.round(this.heroAvatar.STAMINA/100),n=Math.floor(100001*Math.random())<this.heroAvatar.CRITICAL?2:1;this.enemyAvatar.HP-=(Math.floor(this.heroAvatar.P_ATCK/100)+e+Math.round(t+a/2))*n,this.verifyWinner()},createEnemyBattle:function(){var e=Math.floor(this.enemyAvatar.P_DEF/100),t=Math.round(this.enemyAvatar.ACCURACY/100),a=Math.round(this.enemyAvatar.STAMINA/100),n=Math.floor(100001*Math.random())<this.enemyAvatar.CRITICAL?2:1;this.heroAvatar.HP-=(Math.floor(this.enemyAvatar.P_ATCK/100)+e+Math.round(t+a/2))*n,this.verifyWinner()},verifyWinner:function(){this.enemyAvatar.HP<=0&&this.isBattle?(this.isBattle=!1,this.enemyAvatar.HP=0,this.isFindingAvatar=!1,this.heroAvatar.HP<=0&&(this.heroAvatar.HP=0),this.heroChar.animations.paused=!0,this.enemyChar.animations.paused=!0):this.heroAvatar.HP<=0&&this.isBattle?(this.isBattle=!1,this.heroAvatar.HP=0,this.isFindingAvatar=!1,this.enemyAvatar.HP<=0&&(this.enemyAvatar.HP=0),this.heroChar.animations.paused=!0,this.enemyChar.animations.paused=!0):this.isBattle=!0},cleanBar:function(){this.heroText&&this.heroText.destroy(),this.enemyText&&this.enemyText.destroy()},updateAvatarBar:function(){this.cleanBar(),this.heroText=this.game.add.text(32,100,"heroAvatar",{font:"20px Arial",fill:"#FFE848"}),this.heroText.text="HP: "+this.heroAvatar.HP+"\nMP: "+this.heroAvatar.MP+"\nP. ATCK: "+this.heroAvatar.P_ATCK+"\nP. DEF: "+this.heroAvatar.P_DEF+"\nCAST SPEED: "+this.heroAvatar.CAST_SPEED+"\nCRITICAL: "+this.heroAvatar.CRITICAL+"\nACCURACY: "+this.heroAvatar.ACCURACY+"\nSTAMINA: "+this.heroAvatar.STAMINA,this.enemyText=this.game.add.text(this.width-210,100,"enemyAvatar",{font:"20px Arial",fill:"#FFE848"}),this.enemyText.text="HP: "+this.enemyAvatar.HP+"\nMP: "+this.enemyAvatar.MP+"\nP. ATCK: "+this.enemyAvatar.P_ATCK+"\nP. DEF: "+this.enemyAvatar.P_DEF+"\nCAST SPEED: "+this.enemyAvatar.CAST_SPEED+"\nCRITICAL: "+this.enemyAvatar.CRITICAL+"\nACCURACY: "+this.enemyAvatar.ACCURACY+"\nSTAMINA: "+this.enemyAvatar.STAMINA},find:function(){var e=this;null!=this.enemyChar&&this.enemyChar.destroy(),null!=this.heroChar&&this.heroChar.destroy(),null!=this.heroName&&this.heroName.destroy(),null!=this.enemyName&&this.enemyName.destroy(),this.heroName=this.game.add.text(200,32,null,{font:"32px Arial",fill:"#FFE848"}),this.enemyName=this.game.add.text(this.width-400,32,null,{font:"32px Arial",fill:"#FFE848"}),this.isFindingAvatar=!0,this.cleanText();var t=m.a.get("https://legend-of-github-api.herokuapp.com/repository/format?username="+this.hero).then(function(e){return e.data}).catch(function(e){console.log(e)}),a=m.a.get("https://legend-of-github-api.herokuapp.com/repository/format?username="+this.enemy).then(function(e){return e.data}).catch(function(e){console.log(e)}),n=m.a.get("https://legend-of-github-api.herokuapp.com/user/full?username="+this.hero).then(function(e){return e.data}).catch(function(e){console.log(e)}),i=m.a.get("https://legend-of-github-api.herokuapp.com/user/full?username="+this.enemy).then(function(e){return e.data}).catch(function(e){console.log(e)}),s=m.a.get("https://legend-of-github-api.herokuapp.com/streak/full?username="+this.hero).then(function(e){var t=[],a=0;return e.data.forEach(function(e,n){var r=e.date,i=e.commit;new Date(e.date.replace("-","/")).getTime()<=(new Date).getTime()&&(i>0&&(a>0||0===t.length)?t.push({date:r,commit:i}):t=[]),a=e.commit}),t.length}).catch(function(e){console.log(e)}),h=m.a.get("https://legend-of-github-api.herokuapp.com/streak/full?username="+this.enemy).then(function(e){var t=[],a=0;return e.data.forEach(function(e,n){var r=e.date,i=e.commit;new Date(e.date.replace("-","/")).getTime()<=(new Date).getTime()&&(i>0&&(a>0||0===t.length)?t.push({date:r,commit:i}):t=[]),a=e.commit}),t.length}).catch(function(e){console.log(e)});r.a.all([t,n,s,a,i,h]).then(function(t){var a=t[0],n=t[1],r=t[2],i={repository:a,information:n,currentStreak:r};e.heroApiResult=i;var s=t[3],h=t[4],o=t[5],l={repository:s,information:h,currentStreak:o};e.enemyApiResult=l,e.heroAvatar=A.a.calculate(i),e.enemyAvatar=A.a.calculate(l),e.getHeroCharByLanguage(a.language),e.getEnemyCharByLanguage(s.language),e.isBattle=!0,e.updateAvatarBar()})}},destroyed:function(){this.game.destroy()},data:function(){return{game:null,heroName:null,enemyName:null,heroAvatar:null,enemyAvatar:null,hero:"",enemy:"",heroText:null,enemyText:null,isBattle:!1,isFindingAvatar:!1,heroChar:null,enemyChar:null,heroApiResult:null,enemyApiResult:null}},watch:{view:function(e){var t=this;this.$nextTick(function(){t.game.update()})}}}},73:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(116),r=a.n(n);t.default={name:"hello",components:{Game:r.a},data:function(){return{}}}}},[69]);
//# sourceMappingURL=app.57d8a0f2b5790f40d84f.js.map